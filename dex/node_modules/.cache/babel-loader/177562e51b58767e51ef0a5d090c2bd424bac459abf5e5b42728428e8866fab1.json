{"ast":null,"code":"import _objectWithoutProperties from \"/Users/mac/Desktop/Dex/dexStarter/dex/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nimport _objectSpread from \"/Users/mac/Desktop/Dex/dexStarter/dex/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _classCallCheck from \"/Users/mac/Desktop/Dex/dexStarter/dex/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/mac/Desktop/Dex/dexStarter/dex/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _get from \"/Users/mac/Desktop/Dex/dexStarter/dex/node_modules/@babel/runtime/helpers/esm/get.js\";\nimport _getPrototypeOf from \"/Users/mac/Desktop/Dex/dexStarter/dex/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _inherits from \"/Users/mac/Desktop/Dex/dexStarter/dex/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/mac/Desktop/Dex/dexStarter/dex/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nvar _excluded = [\"pageParam\"],\n  _excluded2 = [\"pageParam\"];\nimport { QueryObserver } from './queryObserver.mjs';\nimport { infiniteQueryBehavior, hasNextPage, hasPreviousPage } from './infiniteQueryBehavior.mjs';\nvar InfiniteQueryObserver = /*#__PURE__*/function (_QueryObserver) {\n  _inherits(InfiniteQueryObserver, _QueryObserver);\n  var _super = _createSuper(InfiniteQueryObserver);\n  // Type override\n  // Type override\n  // Type override\n  // eslint-disable-next-line @typescript-eslint/no-useless-constructor\n  function InfiniteQueryObserver(client, options) {\n    _classCallCheck(this, InfiniteQueryObserver);\n    return _super.call(this, client, options);\n  }\n  _createClass(InfiniteQueryObserver, [{\n    key: \"bindMethods\",\n    value: function bindMethods() {\n      _get(_getPrototypeOf(InfiniteQueryObserver.prototype), \"bindMethods\", this).call(this);\n      this.fetchNextPage = this.fetchNextPage.bind(this);\n      this.fetchPreviousPage = this.fetchPreviousPage.bind(this);\n    }\n  }, {\n    key: \"setOptions\",\n    value: function setOptions(options, notifyOptions) {\n      _get(_getPrototypeOf(InfiniteQueryObserver.prototype), \"setOptions\", this).call(this, _objectSpread(_objectSpread({}, options), {}, {\n        behavior: infiniteQueryBehavior()\n      }), notifyOptions);\n    }\n  }, {\n    key: \"getOptimisticResult\",\n    value: function getOptimisticResult(options) {\n      options.behavior = infiniteQueryBehavior();\n      return _get(_getPrototypeOf(InfiniteQueryObserver.prototype), \"getOptimisticResult\", this).call(this, options);\n    }\n  }, {\n    key: \"fetchNextPage\",\n    value: function fetchNextPage() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        pageParam = _ref.pageParam,\n        options = _objectWithoutProperties(_ref, _excluded);\n      return this.fetch(_objectSpread(_objectSpread({}, options), {}, {\n        meta: {\n          fetchMore: {\n            direction: 'forward',\n            pageParam: pageParam\n          }\n        }\n      }));\n    }\n  }, {\n    key: \"fetchPreviousPage\",\n    value: function fetchPreviousPage() {\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        pageParam = _ref2.pageParam,\n        options = _objectWithoutProperties(_ref2, _excluded2);\n      return this.fetch(_objectSpread(_objectSpread({}, options), {}, {\n        meta: {\n          fetchMore: {\n            direction: 'backward',\n            pageParam: pageParam\n          }\n        }\n      }));\n    }\n  }, {\n    key: \"createResult\",\n    value: function createResult(query, options) {\n      var _state$fetchMeta, _state$fetchMeta$fetc, _state$fetchMeta2, _state$fetchMeta2$fet, _state$data, _state$data2;\n      var state = query.state;\n      var result = _get(_getPrototypeOf(InfiniteQueryObserver.prototype), \"createResult\", this).call(this, query, options);\n      var isFetching = result.isFetching,\n        isRefetching = result.isRefetching;\n      var isFetchingNextPage = isFetching && ((_state$fetchMeta = state.fetchMeta) == null ? void 0 : (_state$fetchMeta$fetc = _state$fetchMeta.fetchMore) == null ? void 0 : _state$fetchMeta$fetc.direction) === 'forward';\n      var isFetchingPreviousPage = isFetching && ((_state$fetchMeta2 = state.fetchMeta) == null ? void 0 : (_state$fetchMeta2$fet = _state$fetchMeta2.fetchMore) == null ? void 0 : _state$fetchMeta2$fet.direction) === 'backward';\n      return _objectSpread(_objectSpread({}, result), {}, {\n        fetchNextPage: this.fetchNextPage,\n        fetchPreviousPage: this.fetchPreviousPage,\n        hasNextPage: hasNextPage(options, (_state$data = state.data) == null ? void 0 : _state$data.pages),\n        hasPreviousPage: hasPreviousPage(options, (_state$data2 = state.data) == null ? void 0 : _state$data2.pages),\n        isFetchingNextPage: isFetchingNextPage,\n        isFetchingPreviousPage: isFetchingPreviousPage,\n        isRefetching: isRefetching && !isFetchingNextPage && !isFetchingPreviousPage\n      });\n    }\n  }]);\n  return InfiniteQueryObserver;\n}(QueryObserver);\nexport { InfiniteQueryObserver };","map":{"version":3,"mappings":";;;;;;;;;;;;IAuBaA,qBAAN;EAAA;EAAA;EAaL;EAKA;EAGA;EAKA;EACAC,+BACEC,MADS,EAETC,OAFS,EAST;IAAA;IAAA,yBACMD,MAAN,EAAcC,OAAd;EACD;EAAA;IAAA;IAAA,OAESC,uBAAoB;MAC5B;MACA,IAAKC,cAAL,GAAqB,IAAKA,cAAL,CAAmBC,IAAnB,CAAwB,IAAxB,CAArB;MACA,IAAKC,kBAAL,GAAyB,IAAKA,kBAAL,CAAuBD,IAAvB,CAA4B,IAA5B,CAAzB;IACD;EAAA;IAAA;IAAA,OAEDE,oBACEL,OADQ,EAQRM,aARQ,EASF;MACN,sHAEON,OADL;QAEEO,QAAQ,EAAEC,qBAAqB;MAAA,IAEjCF,aALF;IAOD;EAAA;IAAA;IAAA,OAEDG,6BACET,OADiB,EAQ2B;MAC5CA,OAAO,CAACO,QAAR,GAAmBC,qBAAqB,EAAxC;MACA,sGAAiCR,OAA1B;IAIR;EAAA;IAAA;IAAA,OAEDE,yBAEE;MAAA,+EAF8D,EAAnD;QAAGQ,SAAF,QAAEA,SAAF;QAAgBV;MAG5B,OAAO,IAAKW,MAAL,iCACFX,OADa;QAEhBY,IAAI,EAAE;UACJC,SAAS,EAAE;YAAEC,SAAS,EAAE,SAAb;YAAwBJ;UAAxB;QADP;MAAA,GAFR;IAMD;EAAA;IAAA;IAAA,OAEDN,6BAKE;MAAA,gFAF4B,EAHb;QACfM,SADgB,SAChBA,SADgB;QAEbV;MAIH,OAAO,IAAKW,MAAL,iCACFX,OADa;QAEhBY,IAAI,EAAE;UACJC,SAAS,EAAE;YAAEC,SAAS,EAAE,UAAb;YAAyBJ;UAAzB;QADP;MAAA,GAFR;IAMD;EAAA;IAAA;IAAA,OAESK,sBACRC,KADoB,EAEpBhB,OAFoB,EASwB;MAAA;MAC5C,IAAQiB,QAAUD,KAAlB,CAAQC;MACR,IAAMC,MAAM,2FAAsBF,KAAnB,EAA0BhB,OAA1B,CAAf;MAEA,IAAQmB,UAAF,GAA+BD,MAArC,CAAQC,UAAF;QAAcC,eAAiBF,MAArC,CAAoBE;MAEpB,IAAMC,kBAAkB,GACtBF,UAAU,IAAI,0BAAK,CAACG,SAAN,KAAiBT,mEAAjB,KAA4BC,+CAA5B,MAA0C,SAD1D;MAGA,IAAMS,sBAAsB,GAC1BJ,UAAU,IAAI,2BAAK,CAACG,SAAN,KAAiBT,oEAAjB,KAA4BC,+CAA5B,MAA0C,UAD1D;MAGA,uCACKI,MADE;QAELhB,aAAa,EAAE,KAAKA,aAFf;QAGLE,iBAAiB,EAAE,KAAKA,iBAHnB;QAILoB,WAAW,EAAEA,WAAW,CAACxB,OAAD,iBAAUiB,KAAK,CAACQ,IAAhB,qBAAUC,WAAYC,MAAtB,CAJnB;QAKLC,eAAe,EAAEA,eAAe,CAAC5B,OAAD,kBAAUiB,KAAK,CAACQ,IAAhB,qBAAUI,YAAYF,MAAtB,CAL3B;QAMLN,kBANK,EAMLA,kBANK;QAOLE,sBAPK,EAOLA,sBAPK;QAQLH,YAAY,EACVA,YAAY,IAAI,CAACC,kBAAjB,IAAuC,CAACE;MAAAA;IAE7C;EAAA;EAAA;AAAA,EApIOO,aANH","names":["InfiniteQueryObserver","constructor","client","options","bindMethods","fetchNextPage","bind","fetchPreviousPage","setOptions","notifyOptions","behavior","infiniteQueryBehavior","getOptimisticResult","pageParam","fetch","meta","fetchMore","direction","createResult","query","state","result","isFetching","isRefetching","isFetchingNextPage","fetchMeta","isFetchingPreviousPage","hasNextPage","data","_state$data","pages","hasPreviousPage","_state$data2","QueryObserver"],"sources":["/Users/mac/Desktop/Dex/dexStarter/dex/node_modules/@tanstack/query-core/src/infiniteQueryObserver.ts"],"sourcesContent":["import type {\n  DefaultedInfiniteQueryObserverOptions,\n  FetchNextPageOptions,\n  FetchPreviousPageOptions,\n  InfiniteData,\n  InfiniteQueryObserverOptions,\n  InfiniteQueryObserverResult,\n  QueryKey,\n} from './types'\nimport type { QueryClient } from './queryClient'\nimport type { NotifyOptions, ObserverFetchOptions } from './queryObserver'\nimport { QueryObserver } from './queryObserver'\nimport {\n  hasNextPage,\n  hasPreviousPage,\n  infiniteQueryBehavior,\n} from './infiniteQueryBehavior'\nimport type { Query } from './query'\n\ntype InfiniteQueryObserverListener<TData, TError> = (\n  result: InfiniteQueryObserverResult<TData, TError>,\n) => void\n\nexport class InfiniteQueryObserver<\n  TQueryFnData = unknown,\n  TError = unknown,\n  TData = TQueryFnData,\n  TQueryData = TQueryFnData,\n  TQueryKey extends QueryKey = QueryKey,\n> extends QueryObserver<\n  TQueryFnData,\n  TError,\n  InfiniteData<TData>,\n  InfiniteData<TQueryData>,\n  TQueryKey\n> {\n  // Type override\n  subscribe!: (\n    listener?: InfiniteQueryObserverListener<TData, TError>,\n  ) => () => void\n\n  // Type override\n  getCurrentResult!: () => InfiniteQueryObserverResult<TData, TError>\n\n  // Type override\n  protected fetch!: (\n    fetchOptions: ObserverFetchOptions,\n  ) => Promise<InfiniteQueryObserverResult<TData, TError>>\n\n  // eslint-disable-next-line @typescript-eslint/no-useless-constructor\n  constructor(\n    client: QueryClient,\n    options: InfiniteQueryObserverOptions<\n      TQueryFnData,\n      TError,\n      TData,\n      TQueryData,\n      TQueryKey\n    >,\n  ) {\n    super(client, options)\n  }\n\n  protected bindMethods(): void {\n    super.bindMethods()\n    this.fetchNextPage = this.fetchNextPage.bind(this)\n    this.fetchPreviousPage = this.fetchPreviousPage.bind(this)\n  }\n\n  setOptions(\n    options?: InfiniteQueryObserverOptions<\n      TQueryFnData,\n      TError,\n      TData,\n      TQueryData,\n      TQueryKey\n    >,\n    notifyOptions?: NotifyOptions,\n  ): void {\n    super.setOptions(\n      {\n        ...options,\n        behavior: infiniteQueryBehavior(),\n      },\n      notifyOptions,\n    )\n  }\n\n  getOptimisticResult(\n    options: DefaultedInfiniteQueryObserverOptions<\n      TQueryFnData,\n      TError,\n      TData,\n      TQueryData,\n      TQueryKey\n    >,\n  ): InfiniteQueryObserverResult<TData, TError> {\n    options.behavior = infiniteQueryBehavior()\n    return super.getOptimisticResult(options) as InfiniteQueryObserverResult<\n      TData,\n      TError\n    >\n  }\n\n  fetchNextPage({ pageParam, ...options }: FetchNextPageOptions = {}): Promise<\n    InfiniteQueryObserverResult<TData, TError>\n  > {\n    return this.fetch({\n      ...options,\n      meta: {\n        fetchMore: { direction: 'forward', pageParam },\n      },\n    })\n  }\n\n  fetchPreviousPage({\n    pageParam,\n    ...options\n  }: FetchPreviousPageOptions = {}): Promise<\n    InfiniteQueryObserverResult<TData, TError>\n  > {\n    return this.fetch({\n      ...options,\n      meta: {\n        fetchMore: { direction: 'backward', pageParam },\n      },\n    })\n  }\n\n  protected createResult(\n    query: Query<TQueryFnData, TError, InfiniteData<TQueryData>, TQueryKey>,\n    options: InfiniteQueryObserverOptions<\n      TQueryFnData,\n      TError,\n      TData,\n      TQueryData,\n      TQueryKey\n    >,\n  ): InfiniteQueryObserverResult<TData, TError> {\n    const { state } = query\n    const result = super.createResult(query, options)\n\n    const { isFetching, isRefetching } = result\n\n    const isFetchingNextPage =\n      isFetching && state.fetchMeta?.fetchMore?.direction === 'forward'\n\n    const isFetchingPreviousPage =\n      isFetching && state.fetchMeta?.fetchMore?.direction === 'backward'\n\n    return {\n      ...result,\n      fetchNextPage: this.fetchNextPage,\n      fetchPreviousPage: this.fetchPreviousPage,\n      hasNextPage: hasNextPage(options, state.data?.pages),\n      hasPreviousPage: hasPreviousPage(options, state.data?.pages),\n      isFetchingNextPage,\n      isFetchingPreviousPage,\n      isRefetching:\n        isRefetching && !isFetchingNextPage && !isFetchingPreviousPage,\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}